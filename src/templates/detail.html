{% extends "layout.html" %}

{% block title %}Book detail{% endblock %}

{% block body %}
<div class="row">
    <div class="col-md-6">
        <h3 class="pt-3 pb-2">Book Information</h3>
        <table class="table table-bordered mb-2">
            <tbody>
                <tr>
                    <th scope="row">ISBN</th>
                    <td>{{ book.isbn }}</td>
                </tr>
                <tr>
                    <th scope="row">Title</th>
                    <td>{{ book.title }}</td>
                </tr>
                <tr>
                    <th scope="row">Author</th>
                    <td>{{ book.author }}</td>
                </tr>
                <tr>
                    <th scope="row">Year</th>
                    <td>{{ book.year }}</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="col-md-6">
        <h3 class="pt-3 pb-2">Goodreads Review Data</h3>
        <table class="table table-bordered mb-2">
            <tbody>
                <tr>
                    <th scope="row">Average rating</th>
                    <td>{{ goodreads["average_rating"] }}</td>
                </tr>
                <tr>
                    <th scope="row">Number of ratings</th>
                    <td>{{ goodreads["work_ratings_count"] }}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<h3 class="row pt-3 pb-2">Reviews</h3>
<div class="row">
    {% for review in reviews %}
    <div class="card bg-light mb-3" style="width: 18rem;">
        <div class="card-header">Rating: {{ review.rating }}</div>
        <div class="card-body">
            <h5 class="card-title">{{ review.username }}</h5>
            <p class="card-text">{{ review.content }}</p>
        </div>
    </div>
    {% endfor %}
</div>

<h3 class="row pt-3">Your review</h3>
<form method="POST" action="{{ url_for('book_detail', book_id = book.id) }}">
    <div class="row">
        <span>Rating:&nbsp;</span>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="rating" id="inlineRadio1" value="1" required>
            <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="rating" id="inlineRadio2" value="2">
            <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="rating" id="inlineRadio3" value="3">
            <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="rating" id="inlineRadio4" value="4">
            <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="rating" id="inlineRadio5" value="5">
            <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
    </div>
    <div class="row form-group mt-2">
        <textarea class="form-control" name="content" id="content" rows="3" placeholder="Write your review"
            required></textarea>
    </div>
    <button type="submit" class="row btn btn-success">Submmit</button>
</form>

{% endblock %}